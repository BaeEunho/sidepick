# 사이드픽 이메일 인증 설정 가이드

## 1. Gmail 앱 비밀번호 생성하기

### 1-1. Google 계정 2단계 인증 활성화
1. [Google 계정 보안 페이지](https://myaccount.google.com/security) 접속
2. "2단계 인증" 클릭
3. 아직 활성화하지 않았다면, 화면의 안내에 따라 2단계 인증 설정

### 1-2. 앱 비밀번호 생성
1. [앱 비밀번호 페이지](https://myaccount.google.com/apppasswords) 접속
2. "앱 선택" 드롭다운에서 "기타(맞춤 이름)" 선택
3. "사이드픽" 또는 원하는 이름 입력
4. "생성" 버튼 클릭
5. 생성된 16자리 비밀번호 복사 (공백 포함)

## 2. .env 파일 설정

`.env` 파일을 열고 다음 부분을 수정합니다:

```env
# 이메일 설정 (Gmail 사용 시)
EMAIL_USER=your-actual-email@gmail.com
EMAIL_PASS=abcd efgh ijkl mnop
```

예시:
```env
EMAIL_USER=sidepick2024@gmail.com
EMAIL_PASS=xvzk qwer tyui asdf
```

**주의사항:**
- EMAIL_PASS에는 공백을 포함한 전체 16자리를 입력합니다
- 일반 Gmail 비밀번호가 아닌 앱 비밀번호를 사용해야 합니다

## 3. 설정 테스트

터미널에서 다음 명령어를 실행하여 설정을 테스트합니다:

```bash
node test-email-config.js
```

성공하면 다음과 같은 메시지가 표시됩니다:
```
✅ 이메일 전송 성공!
📧 your-email@gmail.com로 테스트 이메일을 전송했습니다.
```

## 4. 서버 재시작

이메일 설정이 완료되면 서버를 재시작합니다:

```bash
npx pm2 restart sidepick
```

## 5. 확인하기

1. 브라우저에서 회원가입 페이지로 이동
2. 이메일 입력 후 "인증 코드 받기" 클릭
3. 실제 이메일로 인증 코드가 전송되는지 확인

## 문제 해결

### "보안 수준이 낮은 앱 액세스가 차단됨" 오류
- 앱 비밀번호를 사용하고 있는지 확인
- 2단계 인증이 활성화되어 있는지 확인

### "Invalid login" 오류
- 앱 비밀번호를 다시 생성하여 시도
- EMAIL_USER가 올바른 Gmail 주소인지 확인

### 이메일이 도착하지 않는 경우
- 스팸함 확인
- Gmail 보안 활동 확인 (https://myaccount.google.com/security-checkup)

## 보안 주의사항

- `.env` 파일은 절대 Git에 커밋하지 마세요
- 앱 비밀번호는 안전하게 보관하세요
- 실제 운영 시에는 전용 이메일 계정 사용을 권장합니다